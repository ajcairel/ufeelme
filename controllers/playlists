const Playlist = require('../models/playlist');

module.exports = {
    index,
    new: newPlaylist,
    //create
}

function index(req, res) {
    // const query = req.query.filter ? {streamingService: req.query.filter} : {};
    const query = req.query.filter;
    const playlists = Playlist.find(query);
    res.render('playlists/index', {query, playlists});
}

function newPlaylist(req, res) {
    const service = req.query.filter;
    res.render('playlists/new');
}


// function create(req, res) {

// }

// function create(req, res) {
//     // convert nowShowing's checkbox of nothing or "on" to boolean
//     req.body.nowShowing = !!req.body.nowShowing;
//     for (let key in req.body) {
//       if (req.body[key] === '') delete req.body[key];
//     }
//     var movie = new Movie(req.body);
//     movie.save(function(err) {
//       // one way to handle errors
//       if (err) return res.redirect('/movies/new');
//       console.log(movie);
//       res.redirect(`/movies/${movie._id}`);
//     });
//   }




